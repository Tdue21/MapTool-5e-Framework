[h:jsonConditions=getLibProperty("Value","Lib:Rules")]
[h:jsonRules=getLibProperty("Value","Lib:Rules")]

[h:death        = json.get(jsonRules,"9g. Dropping to 0 Hit Points")]
[h:blinded      = json.get(jsonConditions,"Blinded")]
[h:charmed      = json.get(jsonConditions,"Charmed")]
[h:deafened     = json.get(jsonConditions,"Deafened")]
[h:exhaustion   = json.get(jsonConditions,"Exhaustion")]
[h:frightened   = json.get(jsonConditions,"Frightened")]
[h:grappled     = json.get(jsonConditions,"Grappled")]
[h:poisoned     = json.get(jsonConditions,"Poisoned")]
[h:incapacitated= json.get(jsonConditions,"Incapacitated")]
[h:invisible    = json.get(jsonConditions,"Invisible")]
[h:paralyzed    = json.get(jsonConditions,"Paralyzed")]
[h:petrified    = json.get(jsonConditions,"Petrified")]
[h:poisoned     = json.get(jsonConditions,"Poisoned")]
[h:prone        = json.get(jsonConditions,"Prone")]
[h:restrained   = json.get(jsonConditions,"Restrained")]
[h:stunned      = json.get(jsonConditions,"Stunned")]
[h:unconscious  = json.get(jsonConditions,"Unconscious")]

[h:dead          = macroLink("Dead",         "Content@Lib:Notebook", "", "key=Dead;description="+encode(death)+";tokenName=Lib:Rules")]
[h:dying         = macroLink("Dying",        "Content@Lib:Notebook", "", "key=Dying;description="+encode(death)+";tokenName=Lib:Rules")]
[h:blinded       = macroLink("Blinded",      "Content@Lib:Notebook", "", "key=Blinded;description="+encode(blinded)+";tokenName=Lib:Rules")]
[h:charmed       = macroLink("Charmed",      "Content@Lib:Notebook", "", "key=Charmed;description="+encode(charmed)+";tokenName=Lib:Rules")]
[h:deafened      = macroLink("Deafened",     "Content@Lib:Notebook", "", "key=Deafened;description="+encode(deafened)+";tokenName=Lib:Rules: Conditions")]
[h:exhaustion1   = macroLink("Exhaustion 1", "Content@Lib:Notebook", "", "key=Exhaustion;description="+encode(exhaustion)+";tokenName=Lib:Rules")]
[h:exhaustion2   = macroLink("Exhaustion 2", "Content@Lib:Notebook", "", "key=Exhaustion;description="+encode(exhaustion)+";tokenName=Lib:Rules")]
[h:exhaustion3   = macroLink("Exhaustion 3", "Content@Lib:Notebook", "", "key=Exhaustion;description="+encode(exhaustion)+";tokenName=Lib:Rules")]
[h:exhaustion4   = macroLink("Exhaustion 4", "Content@Lib:Notebook", "", "key=Exhaustion;description="+encode(exhaustion)+";tokenName=Lib:Rules")]
[h:exhaustion5   = macroLink("Exhaustion 5", "Content@Lib:Notebook", "", "key=Exhaustion;description="+encode(exhaustion)+";tokenName=Lib:Rules")]
[h:exhaustion6   = macroLink("Exhaustion 6", "Content@Lib:Notebook", "", "key=Exhaustion;description="+encode(exhaustion)+";tokenName=Lib:Rules")]
[h:frightened    = macroLink("Frightened",   "Content@Lib:Notebook", "", "key=Frightened;description="+encode(frightened)+";tokenName=Lib:Rules")]
[h:grappled      = macroLink("Grappled",     "Content@Lib:Notebook", "", "key=Grappled;description="+encode(grappled)+";tokenName=Lib:Rules")]
[h:incapacitated = macroLink("Incapacitated","Content@Lib:Notebook", "", "key=Incapacitated;description="+encode(incapacitated)+";tokenName=Lib:Rules")]
[h:invisible     = macroLink("Invisible",    "Content@Lib:Notebook", "", "key=Invisible;description="+encode(invisible)+";tokenName=Lib:Rules")]
[h:paralyzed     = macroLink("Paralyzed",    "Content@Lib:Notebook", "", "key=Paralyzed;description="+encode(paralyzed)+";tokenName=Lib:Rules")]
[h:petrified     = macroLink("Petrified",    "Content@Lib:Notebook", "", "key=Petrified;description="+encode(petrified)+";tokenName=Lib:Rules")]
[h:poisoned      = macroLink("Poisoned",     "Content@Lib:Notebook", "", "key=Poisoned;description="+encode(poisoned)+";tokenName=Lib:Rules")]
[h:prone         = macroLink("Prone",        "Content@Lib:Notebook", "", "key=Prone;description="+encode(prone)+";tokenName=Lib:Rules")]
[h:restrained    = macroLink("Restrained",   "Content@Lib:Notebook", "", "key=Restrained;description="+encode(restrained)+";tokenName=Lib:Rules")]
[h:stunned       = macroLink("Stunned",      "Content@Lib:Notebook", "", "key=Stunned;description="+encode(stunned)+";tokenName=Lib:Rules")]
[h:unconscious   = macroLink("Unconscious",  "Content@Lib:Notebook", "", "key=Unconscious;description="+encode(unconscious)+";tokenName=Lib:Rules")]

[h:conditionList=""]
[h,if(getState("Dead")         == 1): conditionList = listappend(conditionList, dead)          ; ""]
[h,if(getState("Dying")        == 1): conditionList = listappend(conditionList, dying)         ; ""]
[h,if(getState("Blinded")      == 1): conditionList = listappend(conditionList, blinded)       ; ""]
[h,if(getState("Charmed")      == 1): conditionList = listappend(conditionList, charmed)       ; ""]
[h,if(getState("Deafened")     == 1): conditionList = listappend(conditionList, deafened)      ; ""]
     
[h,if(getState("Exhaustion 1") == 1): conditionList = listappend(conditionList, exhaustion1)   ; ""]
[h,if(getState("Exhaustion 2") == 1): conditionList = listappend(conditionList, exhaustion2)   ; ""]
[h,if(getState("Exhaustion 3") == 1): conditionList = listappend(conditionList, exhaustion3)   ; ""]
[h,if(getState("Exhaustion 4") == 1): conditionList = listappend(conditionList, exhaustion4)   ; ""]
[h,if(getState("Exhaustion 5") == 1): conditionList = listappend(conditionList, exhaustion5)   ; ""]
[h,if(getState("Exhaustion 6") == 1): conditionList = listappend(conditionList, exhaustion6)   ; ""]
  
[h,if(getState("Frightened")   == 1): conditionList = listappend(conditionList, frightened)    ; ""]
[h,if(getState("Grappled")     == 1): conditionList = listappend(conditionList, grappled)      ; ""]
[h,if(getState("Incapacitated")== 1): conditionList = listappend(conditionList, incapacitated) ; ""]
[h,if(getState("Invisible")    == 1): conditionList = listappend(conditionList, invisible)     ; ""]
[h,if(getState("Paralyzed")    == 1): conditionList = listappend(conditionList, paralyzed)     ; ""]
[h,if(getState("Petrified")    == 1): conditionList = listappend(conditionList, petrified)     ; ""]
[h,if(getState("Poisoned")     == 1): conditionList = listappend(conditionList, poisoned)      ; ""]
[h,if(getState("Prone")        == 1): conditionList = listappend(conditionList, prone)         ; ""]
[h,if(getState("Restrained")   == 1): conditionList = listappend(conditionList, restrained)    ; ""]
[h,if(getState("Stunned")      == 1): conditionList = listappend(conditionList, stunned)       ; ""]
[h,if(getState("Unconscious")  == 1): conditionList = listappend(conditionList, unconscious)   ; ""]

[r:conditionList]